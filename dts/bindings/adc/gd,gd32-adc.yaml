# Copyright (c) 2022 BrainCo Inc.
# Copyright (c) 2026 GigaDevice Semiconductor Inc.
# SPDX-License-Identifier: Apache-2.0

description: GigaDevice GD32 ADC

# gd32 adc irq have some special cases as below:
#   1. adc number no larger than 3.
#   2. adc0 and adc1 share the same irq number.
#   3. For gd32f4xx, adc2 share the same irq number with adc0 and adc1.
#
# To cover this cases, adc_gd32 driver use node-label 'adc0', 'adc1' and
# 'adc2' to handle gd32 adc irq config directly.
#
# Sorry for the restriction, But new added gd32 adc node-label must be 'adc0',
# 'adc1' and 'adc2'.

compatible: "gd,gd32-adc"

include: [adc-controller.yaml, reset-device.yaml, pinctrl-device.yaml]

properties:
  reg:
    required: true

  resets:
    required: true

  clocks:
    required: true

  rcu-clock-source:
    type: int
    description: |
      Some GD32 ADC have additional clock source, like IRC14M or IRC28M.
      This property used to select the clock and related prescaler, valid
      values defined at 'dts-bindings/adc/gd32xxx.h' headers.

  channels:
    type: int
    description: Number of external channels
    required: true

  interrupts:
    required: true

  "#io-channel-cells":
    const: 1

  pinctrl-0:
    required: true

  pinctrl-names:
    required: true

  trigger-select:
    type: int
    default: 0
    description: |
      Trigger input source select.

      If not specified, defaults to software trigger (0).

      Example values:
        * TRIGSEL_INPUT_TIMER0_CH0   - 0x13
        * TRIGSEL_INPUT_TIMER0_CH1   - 0x14
        * TRIGSEL_INPUT_TIMER0_CH2   - 0x15
        * TRIGSEL_INPUT_TIMER0_CH3   - 0x16
        * TRIGSEL_INPUT_TIMER0_MCH0  - 0x17
        * TRIGSEL_INPUT_TIMER0_MCH1  - 0x18
        * TRIGSEL_INPUT_TIMER0_MCH2  - 0x19
        * TRIGSEL_INPUT_TIMER0_MCH3  - 0x1A
        * TRIGSEL_INPUT_TIMER1_CH0   - 0x26
        * TRIGSEL_INPUT_TIMER1_CH1   - 0x27
        * TRIGSEL_INPUT_TIMER1_CH2   - 0x28
        * TRIGSEL_INPUT_TIMER1_CH3   - 0x29
        * TRIGSEL_INPUT_TIMER2_CH0   - 0x2C
        * TRIGSEL_INPUT_TIMER2_CH1   - 0x2D
        * TRIGSEL_INPUT_TIMER2_CH2   - 0x2E
        * TRIGSEL_INPUT_TIMER2_CH3   - 0x2F
        * TRIGSEL_INPUT_TIMER3_CH0   - 0x32
        * TRIGSEL_INPUT_TIMER3_CH1   - 0x33
        * TRIGSEL_INPUT_TIMER3_CH2   - 0x34
        * TRIGSEL_INPUT_TIMER3_CH3   - 0x35
        * TRIGSEL_INPUT_TIMER4_CH0   - 0x38
        * TRIGSEL_INPUT_TIMER4_CH1   - 0x39
        * TRIGSEL_INPUT_TIMER4_CH2   - 0x3A
        * TRIGSEL_INPUT_TIMER4_CH3   - 0x3B

io-channel-cells:
  - input
